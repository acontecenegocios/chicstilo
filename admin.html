<!DOCTYPE html>
<html>
<head>

<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

body{
font-family:Arial;
padding:15px;
}

input, textarea, button{
width:100%;
padding:10px;
margin-bottom:10px;
font-size:16px;
}

button{
background:black;
color:white;
border:none;
}

</style>

</head>

<body>

<h2>Novo Produto</h2>

<input id="marca" placeholder="Marca">

<input id="tamanho" placeholder="Tamanho">

<input id="cor" placeholder="Cor">

<input id="preco" placeholder="Preço">

<textarea id="observacoes" placeholder="Observações"></textarea>

<input type="file" id="foto">

<button onclick="salvar()">Salvar</button>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>

const supabase = window.supabase.createClient(
"https://pupqmtogotalkrppzkzd.supabase.co",
"sb_publishable_mEb4-SGlEs8Sq7IM_UQl-Q_P-Yy1O4V"
);

async function salvar(){

const file = document.getElementById("foto").files[0];

let url="";

if(file){

const nome = Date.now()+file.name;

await supabase.storage
.from("fotos")
.upload(nome,file);

url="https://pupqmtogotalkrppzkzd.supabase.co/storage/v1/object/public/fotos/"+nome;

}

await supabase.from("produtos").insert({

marca:marca.value,
tamanho:tamanho.value,
cor:cor.value,
preco:preco.value,
observacoes:observacoes.value,
foto_url:url

});

alert("Salvo");

}

</script>

</body>
</html>
